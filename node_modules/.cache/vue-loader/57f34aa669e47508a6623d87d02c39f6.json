{"remainingRequest":"/Users/cnwangzd/Documents/cnwangzd/wecise/m3/apps/m3mcc/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cnwangzd/Documents/cnwangzd/wecise/m3/apps/m3mcc/src/components/layout/Header.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/cnwangzd/Documents/cnwangzd/wecise/m3/apps/m3mcc/src/components/layout/Header.vue","mtime":1629457713488},{"path":"/Users/cnwangzd/Documents/cnwangzd/wecise/m3/apps/m3mcc/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cnwangzd/Documents/cnwangzd/wecise/m3/apps/m3mcc/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/cnwangzd/Documents/cnwangzd/wecise/m3/apps/m3mcc/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cnwangzd/Documents/cnwangzd/wecise/m3/apps/m3mcc/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7CmltcG9ydCBDb29raWVzIGZyb20gJ2pzLWNvb2tpZSc7CmltcG9ydCBNZXNzYWdlVmlldyBmcm9tICcuLi8uLi9jb21wb25lbnRzL21lc3NhZ2UvTWVzc2FnZVZpZXcnOwoKZXhwb3J0IGRlZmF1bHR7CiAgICBuYW1lOiAiSGVhZGVyIiwKICAgIHByb3BzOiB7CiAgICAgICAgYXV0aDogT2JqZWN0CiAgICB9LAogICAgZGF0YSgpewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGFjdGl2ZUluZGV4OiAnMScKICAgICAgICB9CiAgICB9LAogICAgY29tcG9uZW50czogewogICAgICAgIE1lc3NhZ2VWaWV3CiAgICB9LAogICAgY3JlYXRlZCgpewogICAgICAgIHRoaXMuaW5pdFRoZW1lKCk7CiAgICB9LAogICAgbW91bnRlZCgpewogICAgICAgIHRoaXMubTMuc2V0VGl0bGUodGhpcy5hdXRoKTsKICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgb25TZWxlY3Qoa2V5KSB7CiAgICAgICAgICAgIGlmKF8uc3RhcnRzV2l0aChrZXksJy9tYXRyaXgvJykpewogICAgICAgICAgICAgICAgd2luZG93Lm9wZW4oa2V5LCAnX2JsYW5rJyk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBpZihrZXkgPT09ICdob21lJyl7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5tMy5zZXRBcHBBc0hvbWUodGhpcyx7dXJsOicvaG9tZSd9KTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZihrZXk9PT0nc2lnbm91dCcpewogICAgICAgICAgICAgICAgICAgIHdpbmRvdy5vcGVuKGAvdXNlci9sb2dvdXQvJHt0aGlzLmF1dGguQ29tcGFueS5uYW1lfWAsJ19wYXJlbnQnKTsKICAgICAgICAgICAgICAgIH0gCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGluaXRUaGVtZSgpewogICAgICAgICAgICBsZXQgYm9keSA9IGRvY3VtZW50LmJvZHk7CiAgICAgICAgICAgIGxldCB2YWx1ZSA9IENvb2tpZXMuZ2V0KCdtMy10aGVtZScpP0Nvb2tpZXMuZ2V0KCdtMy10aGVtZScpOidkYXJrJzsKICAgICAgICAgICAgYm9keS5jbGFzc0xpc3QuYWRkKHZhbHVlKTsKICAgICAgICB9LAogICAgICAgIG9uVG9nZ2xlVGhlbWUodmFsKXsKCiAgICAgICAgICAgIC8vbGV0IHRoZW1lID0ge2Rhcms6JyMyNTJENDcnLGxpZ2h0OicjNDA5RUZGJ307CiAgICAgICAgICAgIAogICAgICAgICAgICBDb29raWVzLnNldCgnbTMtdGhlbWUnLHZhbCk7CiAgICAgICAgICAgIAogICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgfQogICAgfQp9Cg=="},{"version":3,"sources":["Header.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA","file":"Header.vue","sourceRoot":"src/components/layout","sourcesContent":["<template>\n    <el-row type=\"flex\" :gutter=\"0\" v-if=\"auth\">\n        <el-col :span=\"19\">\n            <el-link href=\"/\" :underline=\"false\">\n                <el-image :src=\"auth.Company.logo\" fit=\"contain\"></el-image>\n            </el-link>\n            <span style=\"font-size:16px;vertical-align: top;\">{{auth.Company.title}}</span>\n        </el-col>\n        <el-col :span=\"3\" style=\"text-align: right;\">\n            <MessageView></MessageView>\n        </el-col>\n        <el-col :span=\"1\" style=\"text-align: right;\">\n            \n        </el-col>\n        <el-col :span=\"2\">\n            <el-menu :default-active=\"activeIndex\" \n                    class=\"topbar-el-menu\" \n                    mode=\"horizontal\" \n                    menu-trigger=\"hover\"\n                    @select=\"onSelect\">\n                <el-submenu index=\"1\">\n                    <template slot=\"title\">\n                        <svg-icon icon-class=\"user\"/> {{ auth.username }}\n                    </template>\n                    <el-menu-item index=\"/matrix/user\">\n                        <template slot=\"title\">\n                            <svg-icon icon-class=\"user2\"/> \n                            <span slot=\"title\">用户\n                                <!--div>\n                                <el-button type=\"text\" @click.stop=\"onToggleTheme('dark')\" style=\"background:#252D47;padding: 5px;border-radius: 10px;\"></el-button>\n                                <el-button type=\"text\" @click.stop=\"onToggleTheme('light')\" style=\"background: #1890ff;padding: 5px;border-radius: 10px;\"></el-button>\n                                </div>\n                                <el-divider style=\"margin:0px;\"></el-divider-->\n                            </span>\n                        </template>\n                    </el-menu-item>\n                    \n                    <el-menu-item index=\"/matrix/system\" divided v-if=\"auth.isadmin\">\n                        <template slot=\"title\">\n                            <svg-icon icon-class=\"system\"/>\n                            <span slot=\"title\">系统管理</span>\n                        </template>\n                    </el-menu-item>\n                    <el-menu-item index=\"/matrix/files\" v-if=\"auth.isadmin\">\n                        <template slot=\"title\">\n                            <svg-icon icon-class=\"folder\"/>\n                            <span slot=\"title\">我的文件</span>\n                        </template>\n                    </el-menu-item>\n                    <el-menu-item index=\"home\" v-if=\"auth.isadmin\">\n                        <template slot=\"title\">\n                            <svg-icon icon-class=\"home\"/>\n                            <span slot=\"title\">默认首页</span>\n                        </template>\n                    </el-menu-item>\n                    <el-menu-item index=\"signout\" divided>\n                        <template slot=\"title\">\n                            <svg-icon icon-class=\"logout\"/> \n                            <span slot=\"title\">注销</span>\n                        </template>\n                    </el-menu-item>\n                </el-submenu>\n            </el-menu>\n        </el-col>\n    </el-row>    \n</template>\n\n<script>\nimport _ from 'lodash';\nimport Cookies from 'js-cookie';\nimport MessageView from '../../components/message/MessageView';\n\nexport default{\n    name: \"Header\",\n    props: {\n        auth: Object\n    },\n    data(){\n        return {\n            activeIndex: '1'\n        }\n    },\n    components: {\n        MessageView\n    },\n    created(){\n        this.initTheme();\n    },\n    mounted(){\n        this.m3.setTitle(this.auth);\n    },\n    methods: {\n        onSelect(key) {\n            if(_.startsWith(key,'/matrix/')){\n                window.open(key, '_blank');\n            } else {\n                if(key === 'home'){\n                    this.m3.setAppAsHome(this,{url:'/home'});\n                } else if(key==='signout'){\n                    window.open(`/user/logout/${this.auth.Company.name}`,'_parent');\n                } \n            }\n        },\n        initTheme(){\n            let body = document.body;\n            let value = Cookies.get('m3-theme')?Cookies.get('m3-theme'):'dark';\n            body.classList.add(value);\n        },\n        onToggleTheme(val){\n\n            //let theme = {dark:'#252D47',light:'#409EFF'};\n            \n            Cookies.set('m3-theme',val);\n            \n            window.location.reload();\n        }\n    }\n}\n</script>\n\n<style>\n    .dark .m3 > .header{\n        height: 50px!important;\n        line-height: 50px;\n        /* background: rgb(37, 45, 71); */\n        background: #252D47;\n        color: #ffffff;\n        padding: 0px 0px 0px 10px;\n        position: fixed;\n        width: 100%;\n        z-index: 1000;\n    }\n    .light .m3 > .header{\n        height: 50px!important;\n        line-height: 50px;\n        /* background: rgb(37, 45, 71); */\n        background: #1890ff;\n        color: #ffffff;\n        padding: 0px 0px 0px 10px;\n    }\n    .m3 > .header .el-image > .el-image__inner{\n        max-width: 120px;\n        min-width: 32px;\n        width: 64px;\n        height: 32px;\n        padding: 7px 0px;\n    }\n    .m3 > .el-main{\n        padding: 0px;\n    }\n    .el-link.el-link--default {\n        color: #ffffff;\n    }\n    .topbar-el-menu .el-submenu__icon-arrow.el-icon-arrow-down{\n            color: #ffffff;\n        }\n        .el-menu-item:hover{\n            background-color: #409dfe!important;\n        }\n    .dark .m3 .topbar-el-menu.el-menu.el-menu--horizontal {\n            border-bottom: unset;\n            background: #242c46;\n        }\n    .light .m3 .topbar-el-menu.el-menu.el-menu--horizontal {\n            border-bottom: unset;\n            background: #1890ff;\n        }\n        .topbar-el-menu.el-menu.el-menu--horizontal >.el-menu-item {\n            height: 30px;\n            line-height: 30px;\n        }\n        .topbar-el-menu.el-menu.el-menu--horizontal>.el-submenu {\n            float: right;\n        }\n        .topbar-el-menu.el-menu.el-menu--horizontal >.el-submenu .el-submenu__title {\n            height: 50px;\n            line-height: 50px;\n            border-bottom: unset;\n            color: #ffffff;\n        }\n    .el-menu--horizontal>.el-menu-item:not(.is-disabled):focus, \n    .el-menu--horizontal>.el-menu-item:not(.is-disabled):hover, \n    .el-menu--horizontal>.el-submenu .el-submenu__title:hover {\n        background-color: #409dfe!important;\n    }\n</style>\n"]}]}