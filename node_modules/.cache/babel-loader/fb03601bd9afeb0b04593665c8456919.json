{"remainingRequest":"/Users/cnwangzd/Documents/cnwangzd/wecise/m3/apps/m3mcc/node_modules/babel-loader/lib/index.js!/Users/cnwangzd/Documents/cnwangzd/wecise/m3/apps/m3mcc/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/cnwangzd/Documents/cnwangzd/wecise/m3/apps/m3mcc/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cnwangzd/Documents/cnwangzd/wecise/m3/apps/m3mcc/src/components/layout/Header.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/cnwangzd/Documents/cnwangzd/wecise/m3/apps/m3mcc/src/components/layout/Header.vue","mtime":1629457713488},{"path":"/Users/cnwangzd/Documents/cnwangzd/wecise/m3/apps/m3mcc/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cnwangzd/Documents/cnwangzd/wecise/m3/apps/m3mcc/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/cnwangzd/Documents/cnwangzd/wecise/m3/apps/m3mcc/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cnwangzd/Documents/cnwangzd/wecise/m3/apps/m3mcc/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zdGFydHMtd2l0aC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7CmltcG9ydCBDb29raWVzIGZyb20gJ2pzLWNvb2tpZSc7CmltcG9ydCBNZXNzYWdlVmlldyBmcm9tICcuLi8uLi9jb21wb25lbnRzL21lc3NhZ2UvTWVzc2FnZVZpZXcnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkhlYWRlciIsCiAgcHJvcHM6IHsKICAgIGF1dGg6IE9iamVjdAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFjdGl2ZUluZGV4OiAnMScKICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBNZXNzYWdlVmlldzogTWVzc2FnZVZpZXcKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmluaXRUaGVtZSgpOwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMubTMuc2V0VGl0bGUodGhpcy5hdXRoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIG9uU2VsZWN0OiBmdW5jdGlvbiBvblNlbGVjdChrZXkpIHsKICAgICAgaWYgKF8uc3RhcnRzV2l0aChrZXksICcvbWF0cml4LycpKSB7CiAgICAgICAgd2luZG93Lm9wZW4oa2V5LCAnX2JsYW5rJyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKGtleSA9PT0gJ2hvbWUnKSB7CiAgICAgICAgICB0aGlzLm0zLnNldEFwcEFzSG9tZSh0aGlzLCB7CiAgICAgICAgICAgIHVybDogJy9ob21lJwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdzaWdub3V0JykgewogICAgICAgICAgd2luZG93Lm9wZW4oIi91c2VyL2xvZ291dC8iLmNvbmNhdCh0aGlzLmF1dGguQ29tcGFueS5uYW1lKSwgJ19wYXJlbnQnKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBpbml0VGhlbWU6IGZ1bmN0aW9uIGluaXRUaGVtZSgpIHsKICAgICAgdmFyIGJvZHkgPSBkb2N1bWVudC5ib2R5OwogICAgICB2YXIgdmFsdWUgPSBDb29raWVzLmdldCgnbTMtdGhlbWUnKSA/IENvb2tpZXMuZ2V0KCdtMy10aGVtZScpIDogJ2RhcmsnOwogICAgICBib2R5LmNsYXNzTGlzdC5hZGQodmFsdWUpOwogICAgfSwKICAgIG9uVG9nZ2xlVGhlbWU6IGZ1bmN0aW9uIG9uVG9nZ2xlVGhlbWUodmFsKSB7CiAgICAgIC8vbGV0IHRoZW1lID0ge2Rhcms6JyMyNTJENDcnLGxpZ2h0OicjNDA5RUZGJ307CiAgICAgIENvb2tpZXMuc2V0KCdtMy10aGVtZScsIHZhbCk7CiAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Header.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoEA,OAAA,CAAA,MAAA,QAAA;AACA,OAAA,OAAA,MAAA,WAAA;AACA,OAAA,WAAA,MAAA,sCAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,QADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,IAAA,EAAA;AADA,GAFA;AAKA,EAAA,IALA,kBAKA;AACA,WAAA;AACA,MAAA,WAAA,EAAA;AADA,KAAA;AAGA,GATA;AAUA,EAAA,UAAA,EAAA;AACA,IAAA,WAAA,EAAA;AADA,GAVA;AAaA,EAAA,OAbA,qBAaA;AACA,SAAA,SAAA;AACA,GAfA;AAgBA,EAAA,OAhBA,qBAgBA;AACA,SAAA,EAAA,CAAA,QAAA,CAAA,KAAA,IAAA;AACA,GAlBA;AAmBA,EAAA,OAAA,EAAA;AACA,IAAA,QADA,oBACA,GADA,EACA;AACA,UAAA,CAAA,CAAA,UAAA,CAAA,GAAA,EAAA,UAAA,CAAA,EAAA;AACA,QAAA,MAAA,CAAA,IAAA,CAAA,GAAA,EAAA,QAAA;AACA,OAFA,MAEA;AACA,YAAA,GAAA,KAAA,MAAA,EAAA;AACA,eAAA,EAAA,CAAA,YAAA,CAAA,IAAA,EAAA;AAAA,YAAA,GAAA,EAAA;AAAA,WAAA;AACA,SAFA,MAEA,IAAA,GAAA,KAAA,SAAA,EAAA;AACA,UAAA,MAAA,CAAA,IAAA,wBAAA,KAAA,IAAA,CAAA,OAAA,CAAA,IAAA,GAAA,SAAA;AACA;AACA;AACA,KAXA;AAYA,IAAA,SAZA,uBAYA;AACA,UAAA,IAAA,GAAA,QAAA,CAAA,IAAA;AACA,UAAA,KAAA,GAAA,OAAA,CAAA,GAAA,CAAA,UAAA,IAAA,OAAA,CAAA,GAAA,CAAA,UAAA,CAAA,GAAA,MAAA;AACA,MAAA,IAAA,CAAA,SAAA,CAAA,GAAA,CAAA,KAAA;AACA,KAhBA;AAiBA,IAAA,aAjBA,yBAiBA,GAjBA,EAiBA;AAEA;AAEA,MAAA,OAAA,CAAA,GAAA,CAAA,UAAA,EAAA,GAAA;AAEA,MAAA,MAAA,CAAA,QAAA,CAAA,MAAA;AACA;AAxBA;AAnBA,CAAA","sourcesContent":["<template>\n    <el-row type=\"flex\" :gutter=\"0\" v-if=\"auth\">\n        <el-col :span=\"19\">\n            <el-link href=\"/\" :underline=\"false\">\n                <el-image :src=\"auth.Company.logo\" fit=\"contain\"></el-image>\n            </el-link>\n            <span style=\"font-size:16px;vertical-align: top;\">{{auth.Company.title}}</span>\n        </el-col>\n        <el-col :span=\"3\" style=\"text-align: right;\">\n            <MessageView></MessageView>\n        </el-col>\n        <el-col :span=\"1\" style=\"text-align: right;\">\n            \n        </el-col>\n        <el-col :span=\"2\">\n            <el-menu :default-active=\"activeIndex\" \n                    class=\"topbar-el-menu\" \n                    mode=\"horizontal\" \n                    menu-trigger=\"hover\"\n                    @select=\"onSelect\">\n                <el-submenu index=\"1\">\n                    <template slot=\"title\">\n                        <svg-icon icon-class=\"user\"/> {{ auth.username }}\n                    </template>\n                    <el-menu-item index=\"/matrix/user\">\n                        <template slot=\"title\">\n                            <svg-icon icon-class=\"user2\"/> \n                            <span slot=\"title\">用户\n                                <!--div>\n                                <el-button type=\"text\" @click.stop=\"onToggleTheme('dark')\" style=\"background:#252D47;padding: 5px;border-radius: 10px;\"></el-button>\n                                <el-button type=\"text\" @click.stop=\"onToggleTheme('light')\" style=\"background: #1890ff;padding: 5px;border-radius: 10px;\"></el-button>\n                                </div>\n                                <el-divider style=\"margin:0px;\"></el-divider-->\n                            </span>\n                        </template>\n                    </el-menu-item>\n                    \n                    <el-menu-item index=\"/matrix/system\" divided v-if=\"auth.isadmin\">\n                        <template slot=\"title\">\n                            <svg-icon icon-class=\"system\"/>\n                            <span slot=\"title\">系统管理</span>\n                        </template>\n                    </el-menu-item>\n                    <el-menu-item index=\"/matrix/files\" v-if=\"auth.isadmin\">\n                        <template slot=\"title\">\n                            <svg-icon icon-class=\"folder\"/>\n                            <span slot=\"title\">我的文件</span>\n                        </template>\n                    </el-menu-item>\n                    <el-menu-item index=\"home\" v-if=\"auth.isadmin\">\n                        <template slot=\"title\">\n                            <svg-icon icon-class=\"home\"/>\n                            <span slot=\"title\">默认首页</span>\n                        </template>\n                    </el-menu-item>\n                    <el-menu-item index=\"signout\" divided>\n                        <template slot=\"title\">\n                            <svg-icon icon-class=\"logout\"/> \n                            <span slot=\"title\">注销</span>\n                        </template>\n                    </el-menu-item>\n                </el-submenu>\n            </el-menu>\n        </el-col>\n    </el-row>    \n</template>\n\n<script>\nimport _ from 'lodash';\nimport Cookies from 'js-cookie';\nimport MessageView from '../../components/message/MessageView';\n\nexport default{\n    name: \"Header\",\n    props: {\n        auth: Object\n    },\n    data(){\n        return {\n            activeIndex: '1'\n        }\n    },\n    components: {\n        MessageView\n    },\n    created(){\n        this.initTheme();\n    },\n    mounted(){\n        this.m3.setTitle(this.auth);\n    },\n    methods: {\n        onSelect(key) {\n            if(_.startsWith(key,'/matrix/')){\n                window.open(key, '_blank');\n            } else {\n                if(key === 'home'){\n                    this.m3.setAppAsHome(this,{url:'/home'});\n                } else if(key==='signout'){\n                    window.open(`/user/logout/${this.auth.Company.name}`,'_parent');\n                } \n            }\n        },\n        initTheme(){\n            let body = document.body;\n            let value = Cookies.get('m3-theme')?Cookies.get('m3-theme'):'dark';\n            body.classList.add(value);\n        },\n        onToggleTheme(val){\n\n            //let theme = {dark:'#252D47',light:'#409EFF'};\n            \n            Cookies.set('m3-theme',val);\n            \n            window.location.reload();\n        }\n    }\n}\n</script>\n\n<style>\n    .dark .m3 > .header{\n        height: 50px!important;\n        line-height: 50px;\n        /* background: rgb(37, 45, 71); */\n        background: #252D47;\n        color: #ffffff;\n        padding: 0px 0px 0px 10px;\n        position: fixed;\n        width: 100%;\n        z-index: 1000;\n    }\n    .light .m3 > .header{\n        height: 50px!important;\n        line-height: 50px;\n        /* background: rgb(37, 45, 71); */\n        background: #1890ff;\n        color: #ffffff;\n        padding: 0px 0px 0px 10px;\n    }\n    .m3 > .header .el-image > .el-image__inner{\n        max-width: 120px;\n        min-width: 32px;\n        width: 64px;\n        height: 32px;\n        padding: 7px 0px;\n    }\n    .m3 > .el-main{\n        padding: 0px;\n    }\n    .el-link.el-link--default {\n        color: #ffffff;\n    }\n    .topbar-el-menu .el-submenu__icon-arrow.el-icon-arrow-down{\n            color: #ffffff;\n        }\n        .el-menu-item:hover{\n            background-color: #409dfe!important;\n        }\n    .dark .m3 .topbar-el-menu.el-menu.el-menu--horizontal {\n            border-bottom: unset;\n            background: #242c46;\n        }\n    .light .m3 .topbar-el-menu.el-menu.el-menu--horizontal {\n            border-bottom: unset;\n            background: #1890ff;\n        }\n        .topbar-el-menu.el-menu.el-menu--horizontal >.el-menu-item {\n            height: 30px;\n            line-height: 30px;\n        }\n        .topbar-el-menu.el-menu.el-menu--horizontal>.el-submenu {\n            float: right;\n        }\n        .topbar-el-menu.el-menu.el-menu--horizontal >.el-submenu .el-submenu__title {\n            height: 50px;\n            line-height: 50px;\n            border-bottom: unset;\n            color: #ffffff;\n        }\n    .el-menu--horizontal>.el-menu-item:not(.is-disabled):focus, \n    .el-menu--horizontal>.el-menu-item:not(.is-disabled):hover, \n    .el-menu--horizontal>.el-submenu .el-submenu__title:hover {\n        background-color: #409dfe!important;\n    }\n</style>\n"],"sourceRoot":"src/components/layout"}]}