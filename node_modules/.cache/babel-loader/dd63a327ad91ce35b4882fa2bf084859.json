{"remainingRequest":"/Users/cnwangzd/Documents/cnwangzd/wecise/m3/apps/m3mcc/node_modules/babel-loader/lib/index.js!/Users/cnwangzd/Documents/cnwangzd/wecise/m3/apps/m3mcc/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/cnwangzd/Documents/cnwangzd/wecise/m3/apps/m3mcc/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cnwangzd/Documents/cnwangzd/wecise/m3/apps/m3mcc/src/components/search/logView.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/cnwangzd/Documents/cnwangzd/wecise/m3/apps/m3mcc/src/components/search/logView.vue","mtime":1630482556916},{"path":"/Users/cnwangzd/Documents/cnwangzd/wecise/m3/apps/m3mcc/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cnwangzd/Documents/cnwangzd/wecise/m3/apps/m3mcc/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/cnwangzd/Documents/cnwangzd/wecise/m3/apps/m3mcc/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cnwangzd/Documents/cnwangzd/wecise/m3/apps/m3mcc/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgXyBmcm9tICdsb2Rhc2gnOwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IHsKICAgIG1vZGVsOiBPYmplY3QKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkcmFnZ2luZzogZmFsc2UsCiAgICAgIGVkaXRvcjogewogICAgICAgIGRhdGE6IG51bGwsCiAgICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgICAgbGFuZzogewogICAgICAgICAgdmFsdWU6ICJ0ZXh0IiwKICAgICAgICAgIGxpc3Q6IFtdCiAgICAgICAgfSwKICAgICAgICB0aGVtZTogewogICAgICAgICAgdmFsdWU6ICJjaHJvbWUiLAogICAgICAgICAgbGlzdDogdGhpcy5tMy5FRElUT1JfVEhFTUUKICAgICAgICB9CiAgICAgIH0KICAgIH07CiAgfSwKICB3YXRjaDogewogICAgJ21vZGVsLndvcmRzJzogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKHZhbCkgewogICAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAgIGlmIChfLmlzRW1wdHkodmFsKSkgcmV0dXJuIGZhbHNlOwogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIGtleXdvcmRzID0gbmV3IFJlZ0V4cCh2YWwuam9pbigifCIpLCAiZyIpOwoKICAgICAgICAgIF90aGlzLiRyZWZzLmVkaXRvci5lZGl0b3IuZmluZEFsbChrZXl3b3JkcywgewogICAgICAgICAgICBjYXNlU2Vuc2l0aXZlOiBmYWxzZSwKICAgICAgICAgICAgd2hvbGVXb3JkOiB0cnVlLAogICAgICAgICAgICByZWdFeHA6IHRydWUKICAgICAgICAgIH0pOwogICAgICAgIH0sIDEwMDApOwogICAgICB9CiAgICB9LAogICAgbW9kZWw6IGZ1bmN0aW9uIG1vZGVsKCkgewogICAgICB0aGlzLmluaXQoKTsKICAgIH0KICB9LAogIGNvbXBvbmVudHM6IHsKICAgIEVkaXRvcjogcmVxdWlyZSgidnVlMi1hY2UtZWRpdG9yIikKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICB0aGlzLmluaXQoKTsKICAgIHRoaXMuZXZlbnRIdWIuJG9uKCJXSU5ET1ctUkVTSVpFLUVWRU5UIiwgZnVuY3Rpb24gKCkgewogICAgICBfdGhpczIuJHJlZnMuZWRpdG9yLmVkaXRvci5yZXNpemUoKTsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgb25FZGl0b3JJbml0OiBmdW5jdGlvbiBvbkVkaXRvckluaXQoKSB7CiAgICAgIHJlcXVpcmUoJ2JyYWNlL2V4dC9zZWFyY2hib3gnKTsKCiAgICAgIHJlcXVpcmUoImJyYWNlL2V4dC9sYW5ndWFnZV90b29scyIpOyAvL2xhbmd1YWdlIGV4dGVuc2lvbiBwcmVyZXF1c2l0ZS4uLgoKCiAgICAgIHJlcXVpcmUoImJyYWNlL21vZGUvIi5jb25jYXQodGhpcy5lZGl0b3IubGFuZy52YWx1ZSkpOyAvL2xhbmd1YWdlCgoKICAgICAgcmVxdWlyZSgiYnJhY2Uvc25pcHBldHMvIi5jb25jYXQodGhpcy5lZGl0b3IubGFuZy52YWx1ZSkpOyAvL3NuaXBwZXQKCgogICAgICByZXF1aXJlKCJicmFjZS90aGVtZS8iLmNvbmNhdCh0aGlzLmVkaXRvci50aGVtZS52YWx1ZSkpOyAvL2xhbmd1YWdlCgogICAgfSwKICAgIG9uVG9nZ2xlVGhlbWU6IGZ1bmN0aW9uIG9uVG9nZ2xlVGhlbWUodmFsKSB7CiAgICAgIHJlcXVpcmUoImJyYWNlL3RoZW1lLyIuY29uY2F0KHZhbCkpOyAvL2xhbmd1YWdlCgoKICAgICAgdGhpcy5lZGl0b3IudGhlbWUudmFsdWUgPSB2YWw7CiAgICB9LAogICAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLmVkaXRvci5sb2FkaW5nID0gdHJ1ZTsKICAgICAgdmFyIHBhcmFtID0gZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHRoaXMubW9kZWwpKTsKICAgICAgdGhpcy5tMy5jYWxsRlMoIi9tYXRyaXgvbTNtY2Mvc2VhcmNoQml0bG9nQnlUZXJtLmpzIiwgcGFyYW0pLnRoZW4oZnVuY3Rpb24gKHJ0bikgewogICAgICAgIF90aGlzMy5lZGl0b3IuZGF0YSA9IF90aGlzMy5hcnJheVRvQ3N2KHJ0bi5tZXNzYWdlLnJlc3VsdCk7CiAgICAgICAgX3RoaXMzLmVkaXRvci5sb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczMuZWRpdG9yLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgYXJyYXlUb0NzdjogZnVuY3Rpb24gYXJyYXlUb0NzdihkYXRhKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdmFyIGxpbmVBcnJheSA9IFtdOwoKICAgICAgXy5mb3JFYWNoKGRhdGEsIGZ1bmN0aW9uIChpbmZvQXJyYXkpIHsKICAgICAgICB2YXIgdmFsaWQgPSBuZXcgRGF0ZShpbmZvQXJyYXlbMF0pLmdldFRpbWUoKSA+IDA7CgogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgX3RoaXM0LiRzZXQoaW5mb0FycmF5LCAwLCBfdGhpczQubW9tZW50KGluZm9BcnJheVswXSkuZm9ybWF0KCdZWVlZLU1NLUREIEhIOm1tOnNzLlNTUycpKTsKICAgICAgICB9CgogICAgICAgIHZhciBsaW5lID0gaW5mb0FycmF5LmpvaW4oIiwgIik7CiAgICAgICAgbGluZUFycmF5LnB1c2gobGluZSk7CiAgICAgIH0pOwoKICAgICAgcmV0dXJuIGxpbmVBcnJheS5qb2luKCJcbiIpOwogICAgfSwKICAgIGFycmF5VG9Kc29uOiBmdW5jdGlvbiBhcnJheVRvSnNvbihkYXRhKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgdGhpcy4kc2V0KHRoaXMuZHQsICdyb3dzJywgW10pOwoKICAgICAgXy5mb3JFYWNoKGRhdGEsIGZ1bmN0aW9uICh2LCBpbmRleCkgewogICAgICAgIHZhciB2YWxpZCA9IG5ldyBEYXRlKHZbMF0pLmdldFRpbWUoKSA+IDA7CiAgICAgICAgdmFyIHRpbWUgPSAiIjsKCiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICB0aW1lID0gX3RoaXM1Lm1vbWVudCh2WzBdKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW06c3MuU1NTJyk7CiAgICAgICAgfQoKICAgICAgICBfdGhpczUuZHQucm93cy5wdXNoKHsKICAgICAgICAgIGluZGV4OiBpbmRleCArIDEsCiAgICAgICAgICB0aW1lOiB0aW1lLAogICAgICAgICAgbXNnOiB2LnNsaWNlKDMpLmpvaW4oIiwgIiksCiAgICAgICAgICBmaWxlOiB2WzFdLAogICAgICAgICAgbnVtOiB2WzJdCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIG1hcmtCeVRlcm06IGZ1bmN0aW9uIG1hcmtCeVRlcm0oc3RyKSB7CiAgICAgIHZhciBmaW5hbFN0ciA9IHN0cjsKICAgICAgdmFyIHRlcm0gPSB0aGlzLm9wdGlvbnMudGVybS5zcGxpdCgiLCIpOwoKICAgICAgXy5mb3JFYWNoKHRlcm0sIGZ1bmN0aW9uICh2KSB7CiAgICAgICAgaWYgKF8uaXNFbXB0eSh2KSkgcmV0dXJuOwogICAgICAgIHZhciByZWcgPSBuZXcgUmVnRXhwKHYsICdnaW0nKTsKICAgICAgICBmaW5hbFN0ciA9IGZpbmFsU3RyLnJlcGxhY2UocmVnLCBmdW5jdGlvbiAocykgewogICAgICAgICAgcmV0dXJuICc8bWFyayBzdHlsZT0icGFkZGluZzozcHg7Ij4nICsgcyArICc8L21hcms+JzsKICAgICAgICB9KTsKICAgICAgfSk7CgogICAgICByZXR1cm4gZmluYWxTdHI7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["logView.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <el-container style=\"height: calc(100% - 85px);\">\n        <el-header style=\"height:30px;line-height:30px;padding:0px;\">\n            <span style=\"font-weight: 900;\">{{model.id}} / {{model.field}} / {{model.file}}</span>\n            <el-dropdown style=\"padding-left:10px;float:right;\">\n                <span class=\"el-dropdown-link\">\n                    <svg-icon icon-class=\"theme\"/>\n                </span>\n                <el-dropdown-menu slot=\"dropdown\">\n                    <el-dropdown-item v-for=\"group in editor.theme.list\" :key=\"group.name\">\n                        <el-dropdown @command=\"onToggleTheme\">\n                            <span class=\"el-dropdown-link\">\n                            {{ group.name }}\n                            <i class=\"el-icon-arrow-down el-icon--right\"></i>\n                            </span>\n                            <el-dropdown-menu slot=\"dropdown\">\n                                <el-dropdown-item\n                                    v-for=\"item in group.items\"\n                                    :key=\"item.name\"\n                                    :command=\"item.name\">{{ item.name }}</el-dropdown-item>\n                                </el-dropdown-menu>\n                        </el-dropdown>\n                    </el-dropdown-item>\n                </el-dropdown-menu>\n            </el-dropdown>\n        </el-header>\n        <el-main :loading=\"editor.loading\" style=\"padding:0px;overflow:hidden;\">\n            <Editor\n                v-model=\"editor.data\"\n                @init=\"onEditorInit\"\n                :lang=\"editor.lang.value\"\n                :theme=\"editor.theme.value\"\n                width=\"99.8%\"\n                height=\"20vh\"\n                style=\"border:1px solid #f2f2f2;\"\n                ref=\"editor\"></Editor>\n        </el-main>\n    </el-container>\n</template>\n\n<script>\nimport _ from 'lodash';\n\nexport default{\n    props: {\n        model: Object\n    },\n    data(){\n        return {\n            dragging: false,\n            editor: {\n                data: null,\n                loading: false,\n                lang: {\n                    value: \"text\",\n                    list: []\n                },\n                theme: {\n                    value: \"chrome\",\n                    list: this.m3.EDITOR_THEME\n                }\n            }\n        }\n    },\n    watch: {\n        'model.words':{\n            handler(val){\n                \n                if(_.isEmpty(val)) return false;\n\n                setTimeout(()=>{\n                    let keywords = new RegExp(val.join(\"|\"),\"g\");\n                    this.$refs.editor.editor.findAll(keywords,{\n                        caseSensitive: false,\n                        wholeWord: true,\n                        regExp: true\n                    });\n                },1000)\n            }\n        },\n        model(){\n            this.init();\n        }\n    },\n    components:{\n        Editor:require(\"vue2-ace-editor\")\n    },\n    mounted(){\n        this.init();\n\n        this.eventHub.$on(\"WINDOW-RESIZE-EVENT\",()=>{\n            this.$refs.editor.editor.resize();\n        }); \n    },\n    methods: {\n        onEditorInit(){\n            require('brace/ext/searchbox');\n            require(\"brace/ext/language_tools\"); //language extension prerequsite...\n            require(`brace/mode/${this.editor.lang.value}`); //language\n            require(`brace/snippets/${this.editor.lang.value}`); //snippet\n            require(`brace/theme/${this.editor.theme.value}`); //language\n        },\n        onToggleTheme(val){\n            require(`brace/theme/${val}`); //language\n            this.editor.theme.value = val;\n        },\n        init(){\n            this.editor.loading = true;\n            let param = encodeURIComponent(JSON.stringify( this.model ));\n\n            this.m3.callFS(\"/matrix/m3mcc/searchBitlogByTerm.js\",param).then(rtn=>{\n                this.editor.data = this.arrayToCsv(rtn.message.result);\n                this.editor.loading = false;\n            }).catch(()=>{\n                this.editor.loading = false;\n            })\n        },\n        arrayToCsv(data){\n                    \n            let lineArray = [];\n            _.forEach(data, (infoArray)=> {\n                let valid = (new Date(infoArray[0])).getTime() > 0;\n                \n                if(valid){\n                    this.$set(infoArray, 0, this.moment(infoArray[0]).format('YYYY-MM-DD HH:mm:ss.SSS'));\n                }\n\n                let line = infoArray.join(\", \");\n                lineArray.push(line);\n            });\n            \n            return lineArray.join(\"\\n\");\n            \n        },\n        arrayToJson(data){\n            \n            this.$set(this.dt,'rows',[]);\n\n            _.forEach(data, (v, index)=> {\n                \n                let valid = (new Date(v[0])).getTime() > 0;\n                let time = \"\";\n\n                if(valid){\n                    time = this.moment(v[0]).format('YYYY-MM-DD HH:mm:ss.SSS');\n                }\n\n                this.dt.rows.push( {index: index+1, time: time, msg: v.slice(3).join(\", \"), file:v[1], num:v[2]} );\n            });\n            \n        },\n        markByTerm(str){\n            let finalStr = str;\n            let term = this.options.term.split(\",\");\n            \n            _.forEach(term,(v)=>{\n                \n                if(_.isEmpty(v)) return;\n\n                let reg = new RegExp(v, 'gim');\n                finalStr = finalStr.replace(reg, function(s){ return '<mark style=\"padding:3px;\">'+s+'</mark>'; });\n            })\n\n            return finalStr;\n        }\n    }\n}\n</script>\n\n<style>\n    /* .ace_editor .ace_marker-layer .ace_selection {\n        background: #fbde868a !important;\n    }\n    .ace_editor .ace_marker-layer .ace_active-line {\n        background: #fbde868a !important;\n    } */\n    /* ace find highlight */\n    .ace_editor .ace_marker-layer .ace_selected-word {\n        background: #fbde868a !important;\n        border: 1px solid /*[[base-color]]*/ #f3f5f8 !important;\n    }\n</style>\n"],"sourceRoot":"src/components/search"}]}